
#!/bin/bash
awk '{print $2}' innocuous-sr.txt | sort -t- -nk1 > codes.txt
awk -F "-" '{print $1, $2}' codes.txt | awk '{if($1%2==1){print $1,$2;}}' | awk '{print $1 ,$2 + 3}' | awk 'BEGIN{for(n=0;n<256;n++)chr[n]=sprintf("%c",n)}{print chr[$2]}' > semiciphered.txt
awk 'FNR==NR {a[$1] = $2; next} END {for (key in a) { print key, a[key] , $2 } }' codebook-sr.txt semiciphered.txt
awk 'FNR==NR {a[$1] = $2; next} {print a[$1]}' codebook-sr.txt semiciphered.txt | awk 'NR{printf "%s ",$0;next;}1'
